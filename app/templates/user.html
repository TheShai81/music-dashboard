{% extends "base.html" %}
{% block content %}
<h2 class="mb-3">{{ user.username }}</h2>
<p>
  Profile color:
  <span class="inline-block w-4 h-4 rounded-full" style="background-color: {{ user.pfp_color }};"></span>
</p>

<div class="row">
    <div class="col-md-7">
        <h4>Liked Tracks</h4>
        {% if liked_tracks %}
        <table class="table table-dark table-striped table-sm">
            <thead>
            <tr>
                <th>Title</th>
                <th>Artists</th>
                <th>Duration (sec)</th>
            </tr>
            </thead>
            <tbody>
            {% for t in liked_tracks %}
            <tr>
                <td><a href="{{ url_for('main.track_page', track_id=t.track_id) }}">{{ t.title }}</a></td>
                <td>{{ ", ".join(t.artists) }}</td>
                <td>{{ t.duration }}</td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
        {% else %}
        <p class="text-muted">No liked tracks.</p>
        {% endif %}
    </div>

    <div class="col-md-5">
        <h4>Friends</h4>
        {% if friends %}
        <ul class="list-group">
            {% for f in friends %}
            <li class="list-group-item bg-dark text-light">
                <a class="text-light" href="{{ url_for('main.user_page', user_id=f.friend_id) }}">
                    {{ f.friend_name }}
                </a>
            </li>
            {% endfor %}
        </ul>
        {% else %}
        <p class="text-muted">No friends yet.</p>
        {% endif %}
    </div>
</div>
{% endblock %}